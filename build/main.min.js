/*! pixiSpine 0.0.1 2016-12-06 */
function init(){function a(a){if(a.preventDefault(),"drop"==a.type){var b=a.dataTransfer.files,c=b[0];fileDir="./assets/",spineNameList=[],fileDir+=c.name,console.log(fileDir),loadConfig(fileDir,c.name)}}renderer=PIXI.autoDetectRenderer(window.innerWidth,window.innerHeight,{transparent:!0}),canvas=renderer.view;var b=document.getElementById("canvasBox");b.appendChild(canvas),stage=new PIXI.Container,stats=new Stats,b.appendChild(stats.dom),canvas.addEventListener("dragenter",a,!1),canvas.addEventListener("dragover",a,!1),canvas.addEventListener("drop",a,!1),fileDir="./assets/",spineNameList=[],fileDir+="tzclb.bundle",loadConfig(fileDir,"tzclb.bundle")}function loadConfig(a,b){PIXI.loader.add(b,a+"/config.json"),PIXI.loader.load(function(a,c){console.log(c);var d=c[b].data.param;console.log(d);for(i in d)d[i].spine&&d[i].spine.spine_name&&spineNameList.push(d[i].spine.spine_name);console.log(spineNameList),loadSpines()})}function loadSpines(){for(i in spineNameList)PIXI.loader.add(spineNameList[i],fileDir+"/"+spineNameList[i]+".json");PIXI.loader.load(onAssetsLoaded)}function onAssetsLoaded(a,b){console.log(b);for(i in spineNameList){var c=createSpine(b,spineNameList[i]);spineList.push(c),stage.addChild(c)}animate()}function createSpine(a,b){var c=new PIXI.spine.Spine(a[b].spineData),d=Math.min(renderer.width/c.width,renderer.height/c.height);return c.scale.set(d,d),c.position.x=renderer.width/2,c.position.y=renderer.height,c.state.setAnimation(0,0,!0),c.state.timeScale=1,c}function animate(){requestAnimationFrame(animate),renderer.render(stage),stats.update()}var TY=TY||{};TY.data=[[.1,0,.9,0,1],[.2,0,.7,.1,.9],[.3,0,.6,.3,.5],[.4,.2,.3,.4,.2],[.5,.9,.1,.5,0],[.6,.4,.1,.6,.2],[.7,.2,.4,.7,.1],[1,0,.9,.9,.3],[.2,0,.6,.1,.4],[.1,.1,.2,0,.6],[0,1,.1,0,.8],[0,0,.1,0,1]];var canvas,renderer,stage,stats,mouseX=0,mouseY=0,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,fileDir,spineNameList=[],spineList=[];init();